{% autoescape None %}
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>{{ title }}</title>
        <link rel="stylesheet" href="{{ static_url("style2.css") }}" type="text/css" media="screen">
        <link href='http://fonts.googleapis.com/css?family=Trade+Winds' rel='stylesheet' type='text/css'>
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml" />
    </head>
    <body>
        <div id="content">
            <header>
            <hgroup>
                <h1 id="site-title">
                    <a href="{{ url }}" title="MartianZ">{{ title }}</a>
                </h1>
                <h2 id="site-description">
                    Here's my blog :)
                </h2>
                <h2 class="site-nav">
                    <a href="{{ url }}">首页</a>
                </h2>
                <h2 class="site-nav">
                    <a href="#" onclick="javascript:alert('Under Construction!');">照片墙</a>
                </h2>
                <h2 class="site-nav">
                    <a href="https://plus.google.com/u/0/116844860719441739456" target="_blank">Google+</a>
                </h2>
                <h2 class="site-nav">
                    <a href="https://github.com/liutaihua" target="_blank">GitHub</a>
                </h2>
                <h2 class="site-nav">
                    <a href="http://weibo.com/2033970704" target="_blank">微博</a>
                </h2>
                <h2 class="site-nav">
                    <a href="/editor" >New Article</a>
                </h2>
            </hgroup>
            </header>

        <div data-widget='backtop'><script src="/static/js/goTop.js" charset="utf-8"></script></div>
        <div id="main">
            <div id="primary">
                {% for article in articles %}
                <article>
                    <div class="entry-header">
                        <h1 class="entry-title"><a href="/article/{{ article["name"] }}">{{ article["title"] }}</a></h1>
                        
                        <div class="entry-meta">
                            <span class="sep">Posted on <time class="entry-date">{{ article["date"] }}</time></a></span>
                        </div>
                    </div>
                    
                    <div class="entry-content" id="yyy{{ article["name"] }}">
                        {{ (article["content"]) }}
                    </div>

                    <script language="javascript">  
                        (function(){  
                            var len = 300; // 默认显示的字数  
                            var content = document.getElementById("yyy{{ article["name"] }}"); // content 获取内容 div 对象  
                            var text = content.innerHTML;   // text 为内容  
                            var span = document.createElement("span"); // 创建一个 SPAN 标签  
                            var n = document.createElement("a");    // 创建一个 A 标签  
                            span.innerHTML = text.substring(0,len); // SPAN 标签的内容为 text 的前 len 个字符  
                            n.innerHTML = text.length > len ? "..More" : ""; // 创建的 A 标签内容，如果内容字数大于 len，那么为“..展开”，否则为空  
                            n.href = "javascript:void(0)";  // 设置 A 标签的链接地址（随意）  
                            n.onclick = function(){ // 点击 A 链接执行下面函数  
                            // 如果 A 标签的内容为“..展开”，那么 A 标签内容变成“收起”，SPAN 标签的内容为 DIV 全部内容，否则内容为前 len 个字符  
                            if (n.innerHTML == "..More"){  
                                n.innerHTML = "Less";  
                                span.innerHTML = text;  
                            }else{  
                                n.innerHTML = "..More";  
                                span.innerHTML = text.substring(0,len);  
                            }  
                          }  
                            content.innerHTML = "";     // 设置 DIV 内容为空  
                            content.appendChild(span);  // 把 SPAN 元素加到 DIV 中  
                            content.appendChild(n);     // 把 A 元素加到 DIV 中  
                        })();  
                    </script>  

                </article>
                {% end %}

                <nav id="nav-below">
                    {% if pnext %}
                    <div class="nav-previous"><a href="/?p={{ nextnum }}"><span class="meta-nav">←</span> Older posts</a></div>
                    {% end %}
                    {% if prev %}
                    <div class="nav-next"><a href="/?p={{ prevnum }}">Newer posts <span class="meta-nav">→</span></a></div>
                    {% end %}
                </nav>
            </div>
        </div>
        
        <footer>
            <div class="div-footer">
                            Powered by <a href="https://github.com/liutaihua">歪鱼</a>
            </div>
        </footer>
        </div>
        

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33535278-2']);
  _gaq.push(['_setDomainName', '4321.la']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
//    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
    </body>
</html>
